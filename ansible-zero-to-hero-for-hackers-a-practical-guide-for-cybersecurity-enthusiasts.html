<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ansible Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts - Offens!ve Blogs - Sakibul Ali Khan</title><meta name="description" content="In the dynamic realm of cybersecurity, automation is the key to efficiency, and Ansible is the chosen weapon for the discerning hacker. This blog post&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism-black.css"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=G-BG46SGW391"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'G-BG46SGW391' , { 'anonymize_ip': true });
				  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BG46SGW391"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BG46SGW391');</script><link rel="canonical" href="https://sakibulalikhan.pages.dev/ansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html"><link rel="alternate" type="application/atom+xml" href="https://sakibulalikhan.pages.dev/feed.xml"><link rel="alternate" type="application/json" href="https://sakibulalikhan.pages.dev/feed.json"><meta property="og:title" content="Ansible Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts"><meta property="og:image" content="https://sakibulalikhan.pages.dev/media/posts/18/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png"><meta property="og:image:width" content="1710"><meta property="og:image:height" content="900"><meta property="og:site_name" content="Offens!ve Blogs - Sakibul Ali Khan"><meta property="og:description" content="In the dynamic realm of cybersecurity, automation is the key to efficiency, and Ansible is the chosen weapon for the discerning hacker. This blog post&hellip;"><meta property="og:url" content="https://sakibulalikhan.pages.dev/ansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@sakibulalikhan"><meta name="twitter:title" content="Ansible Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts"><meta name="twitter:description" content="In the dynamic realm of cybersecurity, automation is the key to efficiency, and Ansible is the chosen weapon for the discerning hacker. This blog post&hellip;"><meta name="twitter:image" content="https://sakibulalikhan.pages.dev/media/posts/18/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png"><link rel="shortcut icon" href="https://sakibulalikhan.pages.dev/media/website/pen-tux.png" type="image/png"><link rel="preload" href="https://sakibulalikhan.pages.dev/assets/dynamic/fonts/montserrat/montserrat.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://sakibulalikhan.pages.dev/assets/dynamic/fonts/montserrat/montserrat-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://sakibulalikhan.pages.dev/assets/css/style.css?v=8011cf3ca33d35666e8941368434767f"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://sakibulalikhan.pages.dev/ansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html"},"headline":"Ansible Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts","datePublished":"2024-02-05T02:31+06:00","dateModified":"2024-02-07T16:57+06:00","image":{"@type":"ImageObject","url":"https://sakibulalikhan.pages.dev/media/posts/18/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png","height":900,"width":1710},"description":"In the dynamic realm of cybersecurity, automation is the key to efficiency, and Ansible is the chosen weapon for the discerning hacker. This blog post&hellip;","author":{"@type":"Person","name":"Sakibul Ali Khan","url":"https://sakibulalikhan.pages.dev/authors/sakibulalikhan/"},"publisher":{"@type":"Organization","name":"Sakibul Ali Khan","logo":{"@type":"ImageObject","url":"https://sakibulalikhan.pages.dev/media/website/pen-tux-2.png","height":500,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script type="text/javascript">(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "kza4v42pst");</script><style>.extlink::after {
				background-color: currentColor;
				content: "";
				display: inline-block;
				height: 16px; 
				margin-left: 5px;
				position: relative;
				top: 0px;
				width: 16px; 
			}
		.extlink.extlink-icon-5::after { mask-image: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' stroke='%23000000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' xmlns='http://www.w3.org/2000/svg'><path d='M22 12A10 10 0 1 1 12 2'/><path d='M22 2 12 12'/><path d='M16 2h6v6'/></svg>"); }</style></head><body class="post-template"><div class="container container--center"><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="sakibulalikhan" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FF813F" data-position="Right" data-x_margin="18" data-y_margin="18"></script><script defer="defer" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "22757d4facf2459dbb19685ef5c4bae1"}'></script><header class="header"><div class="header__logo"><a class="logo" href="https://sakibulalikhan.pages.dev/"><img src="https://sakibulalikhan.pages.dev/media/website/pen-tux-2.png" alt="Offens!ve Blogs - Sakibul Ali Khan" width="500" height="500"></a></div><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://sakibulalikhan.pages.dev/" target="_self">Home</a></li><li class="has-submenu"><a href="https://sakibulalikhan.pages.dev/tags/ctf-writeups/" target="_self" aria-haspopup="true">CTF Writeups</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://sakibulalikhan.pages.dev/tags/hackthebox/" title="HackTheBox" target="_self">HackTheBox</a></li><li><a href="https://sakibulalikhan.pages.dev/tags/tryhackme/" title="TryHackMe" target="_self">TryHackMe</a></li><li><a href="https://sakibulalikhan.pages.dev/tags/hackviser/" title="Hackviser" target="_self">Hackviser</a></li><li><a href="https://sakibulalikhan.pages.dev/tags/ctftime/" title="CTFtime" target="_self">CTFtime</a></li></ul></li><li><a href="https://sakibulalikhan.pages.dev/about.html" title="About Me" target="_self">About</a></li><li><a href="https://docs.google.com/document/d/10NGJ-Hn7zm6TEEfJIg3K3gqg3wLZ-6BLT77npYOHm4k/edit" title="Sakibul Ali Khan - Resume" target="_blank" rel="Sakibul Ali Khan">Resume</a></li><li><a href="https://sakibulalikhan.pages.dev/contact.html" title="Contact" target="_self">Contact</a></li></ul></nav></header><main class="content"><article class="post"><header><h1 class="post__title">Ansible Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts</h1><div class="post__meta"><time datetime="2024-02-05T02:31" class="post__date">Feb 5, 2024 </time><span class="post__author"><a href="https://sakibulalikhan.pages.dev/authors/sakibulalikhan/" class="feed__author">Sakibul Ali Khan</a></span></div><div class="post__tags"><a href="https://sakibulalikhan.pages.dev/tags/ansible/" class="invert">Ansible</a> <a href="https://sakibulalikhan.pages.dev/tags/cloud-security/" class="invert">Cloud Security</a> <a href="https://sakibulalikhan.pages.dev/tags/cyber-security/" class="invert">Cyber Security</a> <a href="https://sakibulalikhan.pages.dev/tags/devsecops/" class="invert">DevSecOps</a></div></header><figure class="post__image post__cover"><img src="https://sakibulalikhan.pages.dev/media/posts/18/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png" srcset="https://sakibulalikhan.pages.dev/media/posts/18/responsive/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/Ansible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-lg.png 1024w" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" loading="eager" height="900" width="1710" alt="Ansible Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts"></figure><div class="post__entry"><div class="cl-preview-section"><div class="cl-preview-section"><p>In the dynamic realm of cybersecurity, automation is the key to efficiency, and Ansible is the chosen weapon for the discerning hacker. This blog post will take you on a journey from zero to hero, exploring how Ansible, an open-source automation tool, can elevate your cybersecurity game.</p></div><div class="cl-preview-section"><h3 id="what-is-ansible">What is Ansible?</h3></div><div class="cl-preview-section"><figure class="post__image"><img decoding="async" loading="lazy" src="https://sakibulalikhan.pages.dev/media/posts/18/what-is-ansible-removebg-preview.png" alt="what-is-ansible" width="340" height="306" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://sakibulalikhan.pages.dev/media/posts/18/responsive/what-is-ansible-removebg-preview-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/what-is-ansible-removebg-preview-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/what-is-ansible-removebg-preview-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/what-is-ansible-removebg-preview-lg.png 1024w"></figure><p>In the vast landscape of automation tools, Ansible emerges as a superhero, simplifying complex tasks and orchestrating seamless operations. Ansible is not just a tool; it’s your sidekick in the cybersecurity battlefield. As a configuration management and automation platform, Ansible allows you to define and automate the deployment and configuration of systems with ease.</p></div><div class="cl-preview-section"><h4 id="key-features">Key Features:</h4></div><div class="cl-preview-section"><ul><li><p><strong>Agentless Architecture:</strong> Ansible’s agentless design eliminates the need for additional software on managed systems, making it lightweight and straightforward to deploy.</p></li><li><p><strong>Simplicity:</strong> With Ansible, automation becomes accessible. Its human-readable, YAML-based syntax ensures that even hackers new to automation can quickly grasp its power.</p></li><li><p><strong>Flexibility:</strong> Ansible doesn’t impose a rigid structure. It adapts to your environment, whether you’re managing a handful of servers or orchestrating a large-scale operation.</p></li><li><p><strong>Extensibility:</strong> Ansible is not confined to a specific domain. Its modular design allows for seamless integration with existing tools and technologies, enhancing its versatility.</p></li></ul></div><h3 id="why-ansible">Why Ansible?</h3><figure class="post__image"><img decoding="async" loading="lazy" src="https://sakibulalikhan.pages.dev/media/posts/18/Why-Ansible.png" alt="Why Ansible" width="280" height="213" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://sakibulalikhan.pages.dev/media/posts/18/responsive/Why-Ansible-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/Why-Ansible-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/Why-Ansible-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/18/responsive/Why-Ansible-lg.png 1024w"></figure></div><div class="cl-preview-section"><p>Ansible stands out in the automation landscape for its simplicity and agentless architecture. Leveraging SSH to connect to servers, Ansible ensures ease of setup and usage. Whether you’re handling a compact infrastructure or orchestrating a large-scale deployment, Ansible offers a robust and flexible solution.</p></div><div class="cl-preview-section"><h3 id="installation">Installation:</h3></div><div class="cl-preview-section"><p>Let’s dive into the installation process to kickstart your Ansible journey. For this guide, we’ll focus on installing Ansible on a Linux-based system.</p></div><div class="cl-preview-section"><h4 id="step-1-update-your-system">Step 1: Update Your System</h4></div><div class="cl-preview-section"><p>Before delving into Ansible, ensure your system is up to date:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo apt update
sudo apt upgrade -y
</code></pre></div><div class="cl-preview-section"><h4 id="step-2-install-ansible">Step 2: Install Ansible</h4></div><div class="cl-preview-section"><p>Install Ansible using your package manager. For Ubuntu/Debian-based systems:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo apt install ansible -y
</code></pre></div><div class="cl-preview-section"><p>For Red Hat/CentOS-based systems:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo yum install ansible -y
</code></pre></div><div class="cl-preview-section"><h4 id="step-3-verify-installation">Step 3: Verify Installation</h4></div><div class="cl-preview-section"><p>Confirm the installation by checking the Ansible version:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>ansible --version
</code></pre></div><div class="cl-preview-section"><p>You should see output displaying the installed Ansible version.</p></div><div class="cl-preview-section"><h3 id="basic-configuration-and-setup">Basic Configuration and Setup:</h3></div><div class="cl-preview-section"><p>Now that Ansible is successfully installed, let’s perform some basic configuration to set the stage for automation.</p></div><div class="cl-preview-section"><h4 id="step-1-create-an-ansible-configuration-file">Step 1: Create an Ansible Configuration File</h4></div><div class="cl-preview-section"><p>Ansible utilizes a configuration file (ansible.cfg) to manage settings. Create one in your home directory:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>touch ~/.ansible.cfg
</code></pre></div><div class="cl-preview-section"><h4 id="step-2-configure-ansible">Step 2: Configure Ansible</h4></div><div class="cl-preview-section"><p>Open ~/.ansible.cfg in a text editor and add the following basic configuration:</p></div><div class="cl-preview-section"><pre class="language-ini line-numbers"><code>[defaults]
inventory = ~/ansible_inventory
remote_user = your_username
</code></pre></div><div class="cl-preview-section"><p>Replace your_username with your actual username. This configuration specifies the inventory file location and the default remote user.</p></div><div class="cl-preview-section"><h4 id="step-3-create-an-inventory-file">Step 3: Create an Inventory File</h4></div><div class="cl-preview-section"><p>The inventory file defines the hosts Ansible will manage. Create a simple inventory file (ansible_inventory) in your home directory:</p></div><div class="cl-preview-section"><pre class="language-ini line-numbers"><code>[web_servers]
server1 ansible_host=your_server_ip
server2 ansible_host=your_server_ip
</code></pre></div><div class="cl-preview-section"><p>Replace your_server_ip with the actual IP addresses of your servers.</p></div><div class="cl-preview-section"><h4 id="step-4-test-ansible-connectivity">Step 4: Test Ansible Connectivity</h4></div><div class="cl-preview-section"><p>Ensure Ansible can connect to your servers:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>ansible -m ping -i ~/ansible_inventory all
</code></pre></div><div class="cl-preview-section"><p>If everything is set up correctly, you should see a successful ping response from your servers.</p></div><div class="cl-preview-section"><h3 id="real-world-cybersecurity-project-examples">Real-world Cybersecurity Project Examples:</h3></div><div class="cl-preview-section"><h4 id="automating-security-patch-management">Automating Security Patch Management:</h4></div><div class="cl-preview-section"><p>In the realm of cybersecurity, timely application of security patches is paramount. Ansible proves to be a valuable ally in automating the patching process across multiple servers, ensuring that vulnerabilities are promptly addressed.</p></div><div class="cl-preview-section"><p>Consider this analogy: Imagine your servers are the guardians of a fortress, and security patches are the shields that reinforce their defenses. Ansible, in this context, becomes the blacksmith forging these shields efficiently.</p></div><div class="cl-preview-section"><pre class="language-yaml line-numbers"><code>---
- name: Apply Security Updates
  hosts: web_servers
  become: yes
  tasks:
    - name: Update package repositories
      apt: update_cache=yes
      when: ansible_os_family == 'Debian'

    - name: Install security updates
      apt: upgrade=dist
      when: ansible_os_family == 'Debian'

    - name: Update package repositories
      yum: check_update_only=yes
      when: ansible_os_family == 'RedHat'

    - name: Install security updates
      yum: name='*' state=latest
      when: ansible_os_family == 'RedHat'
</code></pre></div><div class="cl-preview-section"><p>Imagine Ansible as the diligent scribe noting which shields need reinforcement and ensuring that each guardian receives the necessary upgrades. With this script, you’re not manually handing out shields; instead, Ansible automates the distribution, making your fortress more resilient against potential cyber threats.</p></div><div class="cl-preview-section"><h4 id="securing-ssh-configuration">Securing SSH Configuration:</h4></div><div class="cl-preview-section"><p>Securing SSH configurations is akin to fortifying the entrance to your digital castle. Ansible can assist in enforcing secure SSH settings across multiple servers, reducing the risk of unauthorized access.</p></div><div class="cl-preview-section"><p>Let’s simplify it: Think of SSH as the drawbridge to your castle. By default, it might be wide open for anyone to cross. Ansible, acting as the castle’s guardian, ensures that only trusted entities can pass through by configuring the drawbridge securely.</p></div><div class="cl-preview-section"><pre class="language-yaml line-numbers"><code>---
- name: Secure SSH Configuration
  hosts: web_servers
  become: yes
  tasks:
    - name: Disable root login
      lineinfile:
        path: /etc/ssh/sshd_config
        regexp: '^PermitRootLogin'
        line: 'PermitRootLogin no'
      notify: Restart SSH

    - name: Set SSH protocol version
      lineinfile:
        path: /etc/ssh/sshd_config
        regexp: '^Protocol'
        line: 'Protocol 2'
      notify: Restart SSH

  handlers:
    - name: Restart SSH
      service:
        name: sshd
        state: restarted
</code></pre></div><div class="cl-preview-section"><p>Picture Ansible as the castle architect implementing security measures, like raising the drawbridge for root access and fortifying the protocol version. The script ensures that only the rightful inhabitants with the correct credentials can traverse the digital drawbridge securely.</p></div><div class="cl-preview-section"><h3 id="conclusion">Conclusion:</h3></div><div class="cl-preview-section"><p>Congratulations! You’ve successfully installed Ansible and laid the foundation for automating tasks and managing infrastructure efficiently. The real-world examples provided demonstrate how Ansible can be applied in cybersecurity projects, from patch management to securing SSH configurations.</p></div><div class="cl-preview-section"><p>In the next blog post, we’ll delve into writing Ansible playbooks and executing ad-hoc commands for more advanced automation.</p></div><div class="cl-preview-section"><p>Stay tuned for more Ansible adventures!</p></div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on Feb 7, 2024</p><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html&amp;via=sakibulalikhan&amp;text=Ansible%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts" class="js-share invert twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html&amp;media=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fmedia%2Fposts%2F18%2FAnsible-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png&amp;description=Ansible%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts" class="js-share invert pinterest" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#pinterest"/></svg> <span>Pinterest</span> </a><a href="https://mix.com/add?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert mix" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#mix"/></svg> <span>Mix</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://buffer.com/add?text=Ansible%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts&amp;url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert buffer" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#buffer"/></svg> <span>Buffer</span> </a><a href="https://api.whatsapp.com/send?text=Ansible%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts https%3A%2F%2Fsakibulalikhan.pages.dev%2Fansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div></footer><nav class="pagination"><div class="pagination__title"><span>Read other posts</span></div><div class="pagination__buttons"><a href="https://sakibulalikhan.pages.dev/unveiling-vulnerabilities-with-cvemap-navigating-the-cybersecurity-jungle.html" class="btn previous" rel="prev" aria-label="[MISSING TRANSLATION]:  Unveiling Vulnerabilities with CVEMap: Navigating the Cybersecurity Jungle "><span class="btn__icon">←</span> <span class="btn__text">Unveiling Vulnerabilities with CVEMap: Navigating the Cybersecurity Jungle</span> </a><a href="https://sakibulalikhan.pages.dev/devvortex-htb-writeup.html" class="btn next" rel="next" aria-label="[MISSING TRANSLATION]:  Devvortex - HTB Writeup "><span class="btn__text">Devvortex - HTB Writeup</span> <span class="btn__icon">→</span></a></div></nav></article><div class="post__comments"><div class="comments"><div class="comments-wrapper"><h2>Comments</h2><div id="disqus_thread"></div><noscript>Please enable JS to use the comments form.</noscript><script type="text/javascript">var disqus_config = function () {
							this.page.url = 'https://sakibulalikhan.pages.dev/ansible-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html';
							this.page.identifier = '18'; 
							this.language = 'en_US';
						};
						
						
				var disqus_element_to_check = document.getElementById('disqus_thread');

				if ('IntersectionObserver' in window) {
					var iObserver = new IntersectionObserver(
						(entries, observer) => {
							entries.forEach(entry => {
								if (entry.intersectionRatio >= 0.1) {
									(function () {
										var d = document, s = d.createElement('script');
										s.src = 'https://'+('sakibulalikhan-github-io').trim()+'.disqus.com/embed.js';
										s.setAttribute('data-timestamp', +new Date());
										(d.head || d.body).appendChild(s);
									})();
									observer.unobserve(entry.target);
								}
							});
						},
						{
							threshold: [0, 0.2, 0.5, 1]
						}
					);

					iObserver.observe(disqus_element_to_check);
				} else {
					(function () {
						var d = document, s = d.createElement('script');
						s.src = 'https://'+('sakibulalikhan-github-io').trim()+'.disqus.com/embed.js';
						s.setAttribute('data-timestamp', +new Date());
						(d.head || d.body).appendChild(s);
					})();
				}</script><script type="text/javascript"></script></div></div></div></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p class="align-center">Sakibul Ali Khan • © 2024 • Offens!ve Blogs • <a href="https://sakibulalikhan.pages.dev/cookie-policy.html" title="Offens!ve Blogs Cookie Policy">Cookies</a> • <a href="https://sakibulalikhan.pages.dev/privacy-policy.html" title="Privacy Policy for Offens!ve Blogs">Privacy</a></p></div></div></footer></div><script defer="defer" src="https://sakibulalikhan.pages.dev/assets/js/scripts.min.js?v=c2232aa7558e9517946129d2a1b8c770"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script src="https://sakibulalikhan.pages.dev/media/plugins/pagePrefetching/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
					quicklink.listen({
						prerender: false,
						el: document.querySelector('body'),
						delay: 0,
						limit: Infinity,
						throttle: Infinity,
						timeout: 2000
					});
				});</script><div class="pcb" data-behaviour="link" data-behaviour-link="https://sakibulalikhan.pages.dev/cookie-policy.html" data-revision="1" data-config-ttl="365" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--left"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">Cookies</div><div id="pcb-txt" class="pcb__txt">To enhance your experience on this website, we use cookies for analytics and performance purposes. <a href="https://sakibulalikhan.pages.dev/cookie-policy.html">Cookie Policy</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Got it!</button></div></div></div></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>