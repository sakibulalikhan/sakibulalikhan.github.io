<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Docker Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts - Offens!ve Blogs - Sakibul Ali Khan</title><meta name="description" content="Docker is an open-source platform designed to empower developers by facilitating the building, shipping, and running of applications within containers. As a lightweight and portable&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism-black.css"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=G-BG46SGW391"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'G-BG46SGW391' , { 'anonymize_ip': true });
				  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BG46SGW391"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BG46SGW391');</script><link rel="canonical" href="https://sakibulalikhan.pages.dev/docker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html"><link rel="alternate" type="application/atom+xml" href="https://sakibulalikhan.pages.dev/feed.xml"><link rel="alternate" type="application/json" href="https://sakibulalikhan.pages.dev/feed.json"><meta property="og:title" content="Docker Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts"><meta property="og:image" content="https://sakibulalikhan.pages.dev/media/posts/16/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png"><meta property="og:image:width" content="1710"><meta property="og:image:height" content="900"><meta property="og:site_name" content="Offens!ve Blogs - Sakibul Ali Khan"><meta property="og:description" content="Docker is an open-source platform designed to empower developers by facilitating the building, shipping, and running of applications within containers. As a lightweight and portable&hellip;"><meta property="og:url" content="https://sakibulalikhan.pages.dev/docker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@sakibulalikhan"><meta name="twitter:title" content="Docker Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts"><meta name="twitter:description" content="Docker is an open-source platform designed to empower developers by facilitating the building, shipping, and running of applications within containers. As a lightweight and portable&hellip;"><meta name="twitter:image" content="https://sakibulalikhan.pages.dev/media/posts/16/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png"><link rel="shortcut icon" href="https://sakibulalikhan.pages.dev/media/website/pen-tux.png" type="image/png"><link rel="preload" href="https://sakibulalikhan.pages.dev/assets/dynamic/fonts/montserrat/montserrat.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://sakibulalikhan.pages.dev/assets/dynamic/fonts/montserrat/montserrat-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://sakibulalikhan.pages.dev/assets/css/style.css?v=8011cf3ca33d35666e8941368434767f"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://sakibulalikhan.pages.dev/docker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html"},"headline":"Docker Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts","datePublished":"2024-02-01T05:05+06:00","dateModified":"2024-11-30T01:14+06:00","image":{"@type":"ImageObject","url":"https://sakibulalikhan.pages.dev/media/posts/16/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png","height":900,"width":1710},"description":"Docker is an open-source platform designed to empower developers by facilitating the building, shipping, and running of applications within containers. As a lightweight and portable&hellip;","author":{"@type":"Person","name":"Sakibul Ali Khan","url":"https://sakibulalikhan.pages.dev/authors/sakibulalikhan/"},"publisher":{"@type":"Organization","name":"Sakibul Ali Khan","logo":{"@type":"ImageObject","url":"https://sakibulalikhan.pages.dev/media/website/pen-tux-2.png","height":500,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script type="text/javascript">(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "kza4v42pst");</script><style>.extlink::after {
				background-color: currentColor;
				content: "";
				display: inline-block;
				height: 16px; 
				margin-left: 5px;
				position: relative;
				top: 0px;
				width: 16px; 
			}
		.extlink.extlink-icon-5::after { mask-image: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' stroke='%23000000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' xmlns='http://www.w3.org/2000/svg'><path d='M22 12A10 10 0 1 1 12 2'/><path d='M22 2 12 12'/><path d='M16 2h6v6'/></svg>"); }</style></head><body class="post-template"><div class="container container--center"><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="sakibulalikhan" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FF813F" data-position="Right" data-x_margin="18" data-y_margin="18"></script><script defer="defer" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "22757d4facf2459dbb19685ef5c4bae1"}'></script><header class="header"><div class="header__logo"><a class="logo" href="https://sakibulalikhan.pages.dev/"><img src="https://sakibulalikhan.pages.dev/media/website/pen-tux-2.png" alt="Offens!ve Blogs - Sakibul Ali Khan" width="500" height="500"></a></div><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://sakibulalikhan.pages.dev/" target="_self">Home</a></li><li class="has-submenu"><a href="https://sakibulalikhan.pages.dev/tags/ctf-writeups/" target="_self" aria-haspopup="true">CTF Writeups</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://sakibulalikhan.pages.dev/tags/hackthebox/" title="HackTheBox" target="_self">HackTheBox</a></li><li><a href="https://sakibulalikhan.pages.dev/tags/tryhackme/" title="TryHackMe" target="_self">TryHackMe</a></li><li><a href="https://sakibulalikhan.pages.dev/tags/hackviser/" title="Hackviser" target="_self">Hackviser</a></li><li><a href="https://sakibulalikhan.pages.dev/tags/ctftime/" title="CTFtime" target="_self">CTFtime</a></li></ul></li><li><a href="https://sakibulalikhan.pages.dev/about.html" title="About Me" target="_self">About</a></li><li><a href="https://docs.google.com/document/d/10NGJ-Hn7zm6TEEfJIg3K3gqg3wLZ-6BLT77npYOHm4k/edit" title="Sakibul Ali Khan - Resume" target="_blank" rel="Sakibul Ali Khan">Resume</a></li><li><a href="https://sakibulalikhan.pages.dev/contact.html" title="Contact" target="_self">Contact</a></li></ul></nav></header><main class="content"><article class="post"><header><h1 class="post__title">Docker Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts</h1><div class="post__meta"><time datetime="2024-02-01T05:05" class="post__date">Feb 1, 2024 </time><span class="post__author"><a href="https://sakibulalikhan.pages.dev/authors/sakibulalikhan/" class="feed__author">Sakibul Ali Khan</a></span></div><div class="post__tags"><a href="https://sakibulalikhan.pages.dev/tags/cloud-security/" class="invert">Cloud Security</a> <a href="https://sakibulalikhan.pages.dev/tags/cyber-security/" class="invert">Cyber Security</a> <a href="https://sakibulalikhan.pages.dev/tags/devsecops/" class="invert">DevSecOps</a> <a href="https://sakibulalikhan.pages.dev/tags/docker/" class="invert">Docker</a> <a href="https://sakibulalikhan.pages.dev/tags/pentesting/" class="invert">Pentesting</a></div></header><figure class="post__image post__cover"><img src="https://sakibulalikhan.pages.dev/media/posts/16/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png" srcset="https://sakibulalikhan.pages.dev/media/posts/16/responsive/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/Docker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts-lg.png 1024w" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" loading="eager" height="900" width="1710" alt="Docker Zero to Hero For Hackers: A Practical Guide for Cybersecurity Enthusiasts"></figure><div class="post__entry"><div class="layout__panel layout__panel--navigation-bar"><nav class="navigation-bar navigation-bar--editor"><div class="navigation-bar__inner navigation-bar__inner--edit-pagedownButtons"><div> </div></div></nav></div><div class="layout__panel flex flex--row"><div class="layout__panel layout__panel--preview"><div class="preview"><div class="preview__inner-1"><div class="preview__inner-2"><div class="cl-preview-section"><p id="introduction"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Docker is an open-source platform designed to empower developers by facilitating the building, shipping, and running of applications within containers. As a lightweight and portable containerization technology, Docker wraps an application and its dependencies into a container, allowing easy deployment across diverse host systems. In this blog post, we’ll delve into the fundamental concepts of Docker, breaking down the intricacies for cybersecurity enthusiasts. We’ll cover container basics, Docker architecture, and provide practical examples of how Docker can be a game-changer in the realm of cybersecurity.</span></p></div><div class="cl-preview-section"><h2 id="what-is-a-container">What is a container?</h2></div><div class="cl-preview-section"><p><img decoding="async" loading="lazy" src="https://apachebooster.com/kb/wp-content/uploads/2017/09/docker-container.png" alt="docker-container » Open Up The Cloud" width="411" height="327" data-is-external-image="true"></p><p>A container is a standardized unit of software bundling code and its dependencies. It ensures swift and reliable application execution across different computing environments. In cybersecurity terms, a container serves as a secure vault encapsulating an application, its libraries, and essential system dependencies. The lightweight and portable nature of containers makes them ideal for cybersecurity tasks, enabling seamless deployment in various environments.</p></div><div class="cl-preview-section"><h2 id="containers-vs-virtual-machines">Containers vs Virtual Machines</h2></div><div class="cl-preview-section"><figure class="post__image"><img decoding="async" loading="lazy" src="https://sakibulalikhan.pages.dev/media/posts/16/Containers_vs_Virtual_Machines.png" alt="" width="493" height="327" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://sakibulalikhan.pages.dev/media/posts/16/responsive/Containers_vs_Virtual_Machines-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/Containers_vs_Virtual_Machines-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/Containers_vs_Virtual_Machines-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/Containers_vs_Virtual_Machines-lg.png 1024w"></figure><p>Containers and virtual machines (VMs) both isolate applications and their dependencies, yet they differ significantly:</p></div><div class="cl-preview-section"><ul><li><p><strong>Resource Utilization</strong>: Containers share the host OS kernel, making them lighter and faster compared to VMs, which require a full-fledged OS.</p></li><li><p><strong>Portability</strong>: Containers excel in portability, capable of running on any system with a compatible host OS. VMs, however, rely on specific hypervisors for compatibility.</p></li><li><p><strong>Security</strong>: VMs offer heightened security with isolated operating systems. Containers, sharing the host OS, provide less isolation but are more manageable.</p></li><li><p><strong>Management</strong>: Container management is generally easier due to their lightweight and agile nature.</p></li></ul></div><div class="cl-preview-section"><h2 id="why-are-containers-lightweight">Why are containers lightweight?</h2></div><div class="cl-preview-section"><p>Containers achieve their lightweight nature through containerization, a technology enabling them to share the host OS kernel and libraries while maintaining application isolation. This results in a compact footprint compared to traditional virtual machines, as containers exclude a full OS, further minimizing their size.</p></div><div class="cl-preview-section"><h2 id="docker-architecture">Docker Architecture</h2></div><div class="cl-preview-section"><figure class="post__image"><img decoding="async" loading="lazy" src="https://sakibulalikhan.pages.dev/media/posts/16/docker-architecture-diagram.png" alt="Docker Architecture for Hackers/Pentester" width="440" height="347" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture-diagram-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture-diagram-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture-diagram-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture-diagram-lg.png 1024w"></figure><p>Docker follows a client-server architecture comprising:</p></div><div class="cl-preview-section"><ul><li><p><strong>Docker Client</strong>: A command-line interface (CLI) tool sending commands to the Docker daemon.</p></li><li><p><strong>Docker Daemon</strong>: The server component managing Docker objects such as images, containers, networks, and volumes.</p></li><li><p><strong>Docker Registry</strong>: A central repository storing Docker images.</p></li></ul></div><div class="cl-preview-section"><p><a href="https://docs.docker.com/engine/docker-overview/architecture/" class="extlink extlink-icon-5" title="sakibulalikhan"></a><span style="color: var(--headings-color); font-family: var(--font-base); font-size: 1.60181em; font-weight: var(--font-weight-bold); letter-spacing: var(--letter-spacing);">How to use Docker?</span></p></div><div class="cl-preview-section"><p>The Docker lifecycle involves creating a Dockerfile, building a Docker image, running a Docker container, and pushing the Docker image to a registry. Here’s a brief overview:</p></div><div class="cl-preview-section"><ol><li><strong>Create a Dockerfile</strong>: A text file with instructions for building a Docker image.</li><li><strong>Build the Docker image</strong>: Use the Dockerfile to create a read-only template.</li><li><strong>Run the Docker container</strong>: Create a running instance of the image.</li><li><strong>Push the Docker image</strong>: Share the built image on a Docker registry for collaboration.</li></ol></div><div class="cl-preview-section"><h2 id="docker-lifecycle">Docker LifeCycle</h2></div><div class="cl-preview-section"><figure class="post__image"><img decoding="async" loading="lazy" src="https://sakibulalikhan.pages.dev/media/posts/16/docker-container-lifecycle-diagram.png" alt="Docker Container Lifecycle Diagram" width="609" height="343" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-container-lifecycle-diagram-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-container-lifecycle-diagram-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-container-lifecycle-diagram-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-container-lifecycle-diagram-lg.png 1024w"></figure></div><div class="cl-preview-section"><ul><li><code>docker build</code>: Builds Docker images from a Dockerfile.</li><li><code>docker run</code>: Runs a container from Docker images.</li><li><code>docker push</code>: Pushes the container image to public/private registries for sharing.</li></ul></div><div class="cl-preview-section"><h2 id="understanding-the-terminology">Understanding the Terminology</h2></div><div class="cl-preview-section"><h3><figure class="post__image"><img decoding="async" loading="lazy" src="https://sakibulalikhan.pages.dev/media/posts/16/docker-architecture_termology-bg.png" alt="" width="526" height="296" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture_termology-bg-xs.png 300w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture_termology-bg-sm.png 480w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture_termology-bg-md.png 768w, https://sakibulalikhan.pages.dev/media/posts/16/responsive/docker-architecture_termology-bg-lg.png 1024w"></figure></h3><h3 id="docker-daemon">Docker Daemon</h3></div><div class="cl-preview-section"><p>The Docker daemon listens for Docker API requests, managing Docker objects like images, containers, networks, and volumes. Daemons can communicate with each other to handle Docker services.</p></div><div class="cl-preview-section"><h3 id="docker-client">Docker Client</h3></div><div class="cl-preview-section"><p>The Docker client is the primary way users interact with Docker. Commands such as <code>docker run</code> are sent to the client, which executes them. The Docker client can communicate with multiple daemons.</p></div><div class="cl-preview-section"><h3 id="docker-desktop">Docker Desktop</h3></div><div class="cl-preview-section"><p>Docker Desktop is an easy-to-install application for Mac, Windows, or Linux environments. It includes the Docker daemon, Docker client, Docker Compose, Docker Content Trust, Kubernetes, and Credential Helper.</p></div><div class="cl-preview-section"><h3 id="docker-registries">Docker Registries</h3></div><div class="cl-preview-section"><p>Docker registries store Docker images. Docker Hub is a public registry, and Docker is configured to look for images there by default. Users can also run private registries.</p></div><div class="cl-preview-section"><h2 id="install-docker">INSTALL DOCKER</h2></div><div class="cl-preview-section"><figure class="post__image"><img decoding="async" loading="lazy" src="https://cdn.freebiesupply.com/logos/large/2x/docker-logo-png-transparent.png" alt="" width="362" height="304" data-is-external-image="true"></figure><p>For detailed instructions on installing Docker, visit <a href="https://docs.docker.com/get-docker/" target="_blank" class="extlink extlink-icon-5" title="sakibulalikhan" rel="noopener noreferrer">Docker Installation Guide</a>.</p></div><div class="cl-preview-section"><p>For a quick demo, create an Ubuntu EC2 instance on AWS and execute the following commands:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo apt update
sudo apt install docker.io -y
</code></pre></div><div class="cl-preview-section"><h3 id="start-docker-and-grant-access">Start Docker and Grant Access</h3></div><div class="cl-preview-section"><p>After installing Docker, ensure the Docker daemon is running. Verify with:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo systemctl status docker
</code></pre></div><div class="cl-preview-section"><p>If not running, start the daemon:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo systemctl start docker
</code></pre></div><div class="cl-preview-section"><p>Grant access to your user:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>sudo usermod -aG docker ubuntu
</code></pre></div><div class="cl-preview-section"><p>Log out and log back in for changes to take effect.</p></div><div class="cl-preview-section"><p>Verify Docker installation:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>docker run hello-world
</code></pre></div><div class="cl-preview-section"><h2 id="docker-is-installed-up-and-running">Docker is Installed, up and running</h2></div><div class="cl-preview-section"><p>Use the same command to confirm:</p></div><div class="cl-preview-section"><pre class="language-bash line-numbers"><code>docker run hello-world
</code></pre></div><div class="cl-preview-section"><h2 id="docker-images-for-cybersecuritypentesting">Docker Images for Cybersecurity/Pentesting</h2></div><div class="cl-preview-section"><p>Docker provides a rich ecosystem of pre-built images tailored for cybersecurity and penetration testing, offering versatility and efficiency in setting up security environments. Here are additional examples of Docker images that cater to specific cybersecurity needs:</p></div><div class="cl-preview-section"><ol><li><p><strong>Kali Linux</strong></p><p>Kali Linux is a widely-used Linux distribution for penetration testing, forensics, and security auditing. The Kali Linux Docker image is a versatile tool for cybersecurity practitioners. It includes a plethora of tools such as Wireshark, Nmap, Burp Suite, and John the Ripper.</p><pre class="language-bash line-numbers"><code>docker pull kalilinux/kali-linux-docker
</code></pre><p>Example Usage:</p><pre class="language-bash line-numbers"><code>docker run -it kalilinux/kali-linux-docker /bin/bash
</code></pre><ul><li><p><strong>Additional Example 1:</strong> Launching Wireshark for network analysis within the Kali Linux container:</p><pre class="language-bash line-numbers"><code>docker run -it --rm --net=host --cap-add=NET_ADMIN kalilinux/kali-linux-docker wireshark
</code></pre><p>In this scenario, the container gains access to the host network stack, enabling network analysis with Wireshark directly from the container.</p></li><li><p><strong>Additional Example 2:</strong> Performing a quick Nmap scan on a target:</p><pre class="language-bash line-numbers"><code>docker run -it --rm kalilinux/kali-linux-docker nmap -p 1-1000 192.168.1.1
</code></pre><p>This command runs an Nmap scan against the specified IP address, showcasing the utility of Kali Linux tools within the Docker container.</p></li><li><p><strong>Additional Example 3:</strong> Using John the Ripper to crack passwords:</p><pre class="language-bash line-numbers"><code>docker run -it --rm kalilinux/kali-linux-docker john --wordlist=/usr/share/wordlists/rockyou.txt /path/to/password/file
</code></pre><p>Here, the container employs John the Ripper to attempt password cracking using a common wordlist.</p></li></ul></li><li><p><strong>Metasploit Framework</strong></p><p>Metasploit Framework is a powerful open-source tool for penetration testing, vulnerability research, and development. The Metasploit Framework Docker image simplifies the setup of Metasploit within a controlled environment.</p><pre class="language-bash line-numbers"><code>docker pull metasploitframework/metasploit-framework
</code></pre><p>Example Usage:</p><pre class="language-bash line-numbers"><code>docker run --rm -it metasploitframework/metasploit-framework
</code></pre><ul><li><p><strong>Additional Example 1:</strong> Running an auxiliary module for HTTP enumeration:</p><pre class="language-bash line-numbers"><code>docker run --rm -it metasploitframework/metasploit-framework msfconsole -x "use auxiliary/scanner/http/http_enum; set RHOSTS 192.168.1.1; run"
</code></pre><p>This command launches Metasploit and executes an HTTP enumeration scan against the specified target.</p></li><li><p><strong>Additional Example 2:</strong> Exploiting a known vulnerability using Metasploit:</p><pre class="language-bash line-numbers"><code>docker run --rm -it metasploitframework/metasploit-framework msfconsole -x "use exploit/windows/smb/ms08_067_netapi; set RHOSTS 192.168.1.1; run"
</code></pre><p>Here, Metasploit is utilized to exploit a specific Windows SMB vulnerability on the given IP address.</p></li><li><p><strong>Additional Example 3:</strong> Brute-forcing SSH credentials using Metasploit:</p><pre class="language-bash line-numbers"><code>docker run --rm -it metasploitframework/metasploit-framework msfconsole -x "use auxiliary/scanner/ssh/ssh_login; set RHOSTS 192.168.1.1; set USER_FILE /path/to/usernames.txt; set PASS_FILE /path/to/passwords.txt; run"
</code></pre><p>This command demonstrates using Metasploit for SSH credential brute-forcing.</p></li></ul></li></ol></div><div class="cl-preview-section"><h2 id="conclusion">Conclusion</h2></div><div class="cl-preview-section"><p>Docker has revolutionized software development and deployment. Its ability to package applications and dependencies into portable containers streamlines deployment across different environments. Docker’s versatility and user-friendly approach make it an ideal solution for modern software development practices, including continuous integration and delivery. Embrace Docker, and let your journey from zero to hero in the cybersecurity landscape begin!</p></div></div></div></div></div></div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on Nov 30, 2024</p><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html&amp;via=sakibulalikhan&amp;text=Docker%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts" class="js-share invert twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html&amp;media=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fmedia%2Fposts%2F16%2FDocker-Zero-to-Hero-For-Hackers-A-Practical-Guide-for-Cybersecurity-Enthusiasts.png&amp;description=Docker%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts" class="js-share invert pinterest" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#pinterest"/></svg> <span>Pinterest</span> </a><a href="https://mix.com/add?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert mix" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#mix"/></svg> <span>Mix</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://buffer.com/add?text=Docker%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts&amp;url=https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert buffer" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#buffer"/></svg> <span>Buffer</span> </a><a href="https://api.whatsapp.com/send?text=Docker%20Zero%20to%20Hero%20For%20Hackers%3A%20A%20Practical%20Guide%20for%20Cybersecurity%20Enthusiasts https%3A%2F%2Fsakibulalikhan.pages.dev%2Fdocker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html" class="js-share invert whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sakibulalikhan.pages.dev/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div></footer><nav class="pagination"><div class="pagination__title"><span>Read other posts</span></div><div class="pagination__buttons"><a href="https://sakibulalikhan.pages.dev/unveiling-pentestgpt-the-ultimate-weapon-for-hacker-and-penetration-tester-2.html" class="btn previous" rel="prev" aria-label="[MISSING TRANSLATION]:  Unveiling PentestGPT: The Ultimate Weapon For Hacker And Penetration Tester "><span class="btn__icon">←</span> <span class="btn__text">Unveiling PentestGPT: The Ultimate Weapon For Hacker And Penetration Tester</span> </a><a href="https://sakibulalikhan.pages.dev/unveiling-vulnerabilities-with-cvemap-navigating-the-cybersecurity-jungle.html" class="btn next" rel="next" aria-label="[MISSING TRANSLATION]:  Unveiling Vulnerabilities with CVEMap: Navigating the Cybersecurity Jungle "><span class="btn__text">Unveiling Vulnerabilities with CVEMap: Navigating the Cybersecurity Jungle</span> <span class="btn__icon">→</span></a></div></nav></article><div class="post__comments"><div class="comments"><div class="comments-wrapper"><h2>Comments</h2><div id="disqus_thread"></div><noscript>Please enable JS to use the comments form.</noscript><script type="text/javascript">var disqus_config = function () {
							this.page.url = 'https://sakibulalikhan.pages.dev/docker-zero-to-hero-for-hackers-a-practical-guide-for-cybersecurity-enthusiasts.html';
							this.page.identifier = '16'; 
							this.language = 'en_US';
						};
						
						
				var disqus_element_to_check = document.getElementById('disqus_thread');

				if ('IntersectionObserver' in window) {
					var iObserver = new IntersectionObserver(
						(entries, observer) => {
							entries.forEach(entry => {
								if (entry.intersectionRatio >= 0.1) {
									(function () {
										var d = document, s = d.createElement('script');
										s.src = 'https://'+('sakibulalikhan-github-io').trim()+'.disqus.com/embed.js';
										s.setAttribute('data-timestamp', +new Date());
										(d.head || d.body).appendChild(s);
									})();
									observer.unobserve(entry.target);
								}
							});
						},
						{
							threshold: [0, 0.2, 0.5, 1]
						}
					);

					iObserver.observe(disqus_element_to_check);
				} else {
					(function () {
						var d = document, s = d.createElement('script');
						s.src = 'https://'+('sakibulalikhan-github-io').trim()+'.disqus.com/embed.js';
						s.setAttribute('data-timestamp', +new Date());
						(d.head || d.body).appendChild(s);
					})();
				}</script><script type="text/javascript"></script></div></div></div></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p class="align-center">Sakibul Ali Khan • © 2024 • Offens!ve Blogs • <a href="https://sakibulalikhan.pages.dev/cookie-policy.html" title="Offens!ve Blogs Cookie Policy">Cookies</a> • <a href="https://sakibulalikhan.pages.dev/privacy-policy.html" title="Privacy Policy for Offens!ve Blogs">Privacy</a></p></div></div></footer></div><script defer="defer" src="https://sakibulalikhan.pages.dev/assets/js/scripts.min.js?v=c2232aa7558e9517946129d2a1b8c770"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://sakibulalikhan.pages.dev/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script src="https://sakibulalikhan.pages.dev/media/plugins/pagePrefetching/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
					quicklink.listen({
						prerender: false,
						el: document.querySelector('body'),
						delay: 0,
						limit: Infinity,
						throttle: Infinity,
						timeout: 2000
					});
				});</script><div class="pcb" data-behaviour="link" data-behaviour-link="https://sakibulalikhan.pages.dev/cookie-policy.html" data-revision="1" data-config-ttl="365" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--left"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">Cookies</div><div id="pcb-txt" class="pcb__txt">To enhance your experience on this website, we use cookies for analytics and performance purposes. <a href="https://sakibulalikhan.pages.dev/cookie-policy.html">Cookie Policy</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Got it!</button></div></div></div></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>